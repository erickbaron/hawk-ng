
<app-page-header [header]="'Carrinho de Compras'" [breadcrumbs]="[
    {label: 'Home',          url: '../../'},
    {label: 'Carrinho de Compras', url: ''}
]"></app-page-header>

<div class="block block-empty" *ngIf="!items.length">
    <div class="container">
        <div class="block-empty__body">
            <div class="block-empty__message">Seu carrinho está vazio!</div>
            <div class="block-empty__actions">
                <a routerLink="../../" class="btn btn-success btn-xl"><i class="fas fa-box-open"></i> Continue</a>
            </div>
        </div>
    </div>
</div>

<div class="cart block" *ngIf="items.length">
    <div class="container">
        <table class="cart__table cart-table">
            <thead class="cart-table__head">
            <tr class="cart-table__row">
                <!-- <th class="cart-table__column cart-table__column--image">Imagem</th> -->
                <th class="cart-table__column cart-table__column--product">Produto</th>
                <th class="cart-table__column cart-table__column--price">Preço</th>
                <th class="cart-table__column cart-table__column--quantity">Quantidade</th>
                <th class="cart-table__column cart-table__column--total">Total</th>
                <th class="cart-table__column cart-table__column--remove"></th>
            </tr>
            </thead>
            <tbody class="cart-table__body">
            <tr *ngFor="let item of items" class="cart-table__row">
                <!-- <td class="cart-table__column cart-table__column--image">
                    <a [routerLink]="root.product(item.cartItem.product.id)" *ngIf="item.cartItem.product.images?.length"><img [src]="item.cartItem.product.images[0]" alt=""></a>
                </td> -->
                <td class="cart-table__column cart-table__column--product">
                    <a  class="cart-table__product-name">{{ item.produto.nome }}</a>
                    <!-- <ul *ngIf="item.cartItem.options.length" class="cart-table__options">
                        <li *ngFor="let option of item.cartItem.options">{{ option.name }}: {{ option.value }}</li>
                    </ul> -->
                </td>

                <td class="cart-table__column cart-table__column--price" data-title="Preço">{{ item.produto.valorVenda| currency:'R$ ' }}</td>
                <td class="cart-table__column cart-table__column--quantity" data-title="Quantity">
                    <a>{{item.quantidade}}</a>
                </td>

                <td class="cart-table__column cart-table__column--total" data-title="Total">{{ (item.produto.valorVenda * item.quantidade)| currency:'R$ ' }}</td>

                <td class="cart-table__column cart-table__column--remove">
                    <button type="button" class="btn btn-light btn-sm btn-svg-icon" (click)="apagar(item.id)" [ngClass]="{'btn-loading': removedItems.includes(item.cartItem)}">
                        <app-icon name="cross-12" size="12"></app-icon>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>

        <div class="cart__actions">
            <!-- <form class="cart__coupon-form">
                <label for="input-coupon-code" class="sr-only">Password</label>
                <input type="text" class="form-control" id="input-coupon-code" placeholder="Código do Cupom">
                <button type="submit" class="btn btn-success">Aplicar Cupom</button>
            </form> -->

            <div>
                <a routerLink="/Home" class="btn btn-success"><i class="fas fa-shopping-bag"></i> Continue Comprando</a>
            </div>
        </div>



        <div class="row justify-content-end pt-5">
            <div class="col-12 col-md-7 col-lg-6 col-xl-5">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Total do Carrinho</h3>

                        <table class="cart__totals">
                            <tr>
                                <th>Total</th>
                                <td>{{  valorTotal| currency:'R$ '  }}</td>
                            </tr>
                        </table>

                        <a class="btn btn-success btn-xl btn-block cart__checkout-button" routerLink="../checkout"><i class="fas fa-shopping-basket"></i> Fazer o checkout</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="tamanho">

        </div>
    </div>
</div>
